# راهنمای فارسی کامل برای کاربران غیر فنی

این راهنما برای کسانی نوشته شده که تجربه برنامه‌نویسی ندارند و می‌خواهند فایل‌های تلگرام را راحت دانلود کنند.

## دو روش استفاده

### روش ۱ (پیشنهادی): Google Colab + Google Drive

این روش ساده‌ترین حالت است و نیاز به نصب چیزی روی کامپیوتر شما ندارد.

**فایل آماده:**
- `notebooks/telegram_to_gdrive_colab.ipynb`

**کاری که انجام می‌دهد:**
1. کتابخانه‌های لازم را نصب می‌کند.
2. Google Drive شما را وصل می‌کند.
3. با حساب تلگرام شما وارد می‌شود.
4. پیام حاوی فایل را از کانال/چت می‌گیرد.
5. فایل را داخل Drive ذخیره می‌کند.

### روش ۲: اجرای مستقیم Daemon روی سیستم یا سرور

این روش برای زمانی مناسب است که می‌خواهید دانلودها دائمی و خودکار باشند (مثلاً روی VPS یا NAS).

---

## پیش‌نیازهای مهم (برای هر دو روش)

1. یک حساب تلگرام فعال
2. دریافت `API ID` و `API HASH` از سایت رسمی تلگرام:
   - https://core.telegram.org/api/obtaining_api_id
3. دسترسی به پیام/کانالی که فایل در آن قرار دارد

> نکته امنیتی: `API HASH` مثل رمز است. آن را با کسی به اشتراک نگذارید.

---

## آموزش گام‌به‌گام روش Colab

1. نوت‌بوک `notebooks/telegram_to_gdrive_colab.ipynb` را باز کنید.
2. در Google Colab گزینه **Runtime > Run all** را بزنید (یا سلول‌ها را یکی‌یکی اجرا کنید).
3. وقتی از شما خواسته شد، Google Drive را Mount کنید و مجوز بدهید.
4. این مقادیر را وارد کنید:
   - `api_id`
   - `api_hash`
   - `phone`
   - `channel` (مثل `@mychannel`)
   - `message_id` (آیدی همان پیام حاوی فایل)
5. کد تأیید تلگرام را وارد کنید.
6. بعد از اتمام دانلود، مسیر فایل را در Drive نمایش می‌دهد.

---

## اگر آیدی پیام (message_id) را نمی‌دانم چه کنم؟

- روی پیام موردنظر در تلگرام کلیک کنید و لینک پیام را کپی کنید.
- در لینک معمولاً یک عدد در انتها وجود دارد (مثل `/12345`) که همان `message_id` است.

---

## خطاهای رایج

1. **PhoneCodeInvalidError / کد اشتباه**
   - کد ورود تلگرام را دقیق وارد کنید.
2. **SessionPasswordNeededError**
   - یعنی تأیید دومرحله‌ای فعال است؛ باید پسورد دومرحله‌ای را وارد کنید.
3. **عدم دسترسی به پیام**
   - بررسی کنید با همان اکانت، آن کانال/چت قابل مشاهده باشد.
4. **FileReferenceExpiredError**
   - معمولاً با اجرای مجدد سلول دانلود یا گرفتن مجدد پیام حل می‌شود.

---

## اجرای Daemon (روش پیشرفته‌تر)

اگر خواستید نسخه دائمی را اجرا کنید:

```bash
pip install -r requirements.txt
python telegram-download-daemon.py --api-id <your-id> --api-hash <your-hash> --channel <channel-number>
```

فرمان‌ها در تلگرام برای کنترل Daemon:
- `status`
- `list`
- `clean`
- `queue`

---

## جمع‌بندی

- برای کاربران غیر فنی، **نوت‌بوک Colab** بهترین و ساده‌ترین راه است.
- برای اتوماسیون دائمی روی سرور، از **daemon اصلی** استفاده کنید.
